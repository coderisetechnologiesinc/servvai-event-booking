{"version":3,"file":"src_Components_PostEditor_FiltersStep_jsx.js?ver=7fc66ea75796f19461d5","mappings":"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","sources":["webpack://servv-plugin/./src/Components/Controls/NewInputControl.jsx","webpack://servv-plugin/./src/Components/Controls/NewSelectControl.jsx","webpack://servv-plugin/./src/Components/PostEditor/FiltersStep.jsx","webpack://servv-plugin/./node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js"],"sourcesContent":["import React from \"react\";\n\nconst NewInputControl = ({\n  label = \"\",\n  value = \"\",\n  placeholder = \"\",\n  helpText = \"\",\n  disabled = false,\n  onChange = () => {},\n  textarea = false,\n  style = {},\n}) => {\n  const InputTag = textarea ? \"textarea\" : \"input\";\n\n  return (\n    <div className=\"servv_input\" style={{ width: \"100%\" }}>\n      {label && <label className=\"step__content_title\">{label}</label>}\n\n      <div\n        className={`servv_input__control ${\n          disabled ? \"servv_input--disabled\" : \"\"\n        }`}\n        style={style}\n      >\n        <InputTag\n          className=\"servv_input__native\"\n          value={value}\n          placeholder={placeholder || helpText}\n          disabled={disabled}\n          onChange={(e) => onChange(e.target.value)}\n          rows={textarea ? 4 : undefined}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default NewInputControl;\n","import React from \"react\";\n\nconst NewSelectControl = ({\n  label = \"\",\n  options = [],\n  helpText = \"\",\n  value = \"\",\n  disabled = false,\n  onChange = () => {},\n  iconRight = null,\n  style = {},\n}) => {\n  return (\n    <div className=\"servv-select\" style={{ width: \"100%\" }}>\n      {label && <label className=\"step__content_title\">{label}</label>}\n\n      <div\n        className={`servv-select__control ${\n          disabled ? \"servv-select--disabled\" : \"\"\n        }`}\n        style={style}\n      >\n        <select\n          className=\"servv-select__native\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          disabled={disabled}\n        >\n          {helpText && (\n            <option value=\"\" disabled>\n              {helpText}\n            </option>\n          )}\n\n          {options.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n\n        {iconRight && <span className=\"servv-select__icon\">{iconRight}</span>}\n      </div>\n    </div>\n  );\n};\n\nexport default NewSelectControl;\n","import { Filter } from \"../../assets/icons\";\nimport { ChevronDownIcon } from \"@heroicons/react/24/outline\";\nimport NewSelectControl from \"../Controls/NewSelectControl\";\nimport NewInputControl from \"../Controls/NewInputControl\";\nimport { useServvStore } from \"../../store/useServvStore\";\n\nconst FiltersStep = ({ attributes, setAttributes, changeStep }) => {\n  const filtersList = useServvStore((s) => s.filtersList);\n\n  // filters\n  const filters = attributes.filters || {};\n  const categoryId = filters.category_id || \"\";\n  const languageId = filters.language_id || \"\";\n  const memberIds = filters.members || [];\n\n  // custom fields\n  const customFields = attributes.custom_fields || {};\n  const { custom_field_2_name = \"\", custom_field_2_value = \"\" } = customFields;\n\n  const hasAnyFilters =\n    filtersList?.categories?.length > 0 ||\n    filtersList?.languages?.length > 0 ||\n    filtersList?.members?.length > 0;\n\n  const mapOptions = (list = []) =>\n    list.map((i) => ({\n      value: String(i.id),\n      label: i.name,\n    }));\n\n  // update filters\n  const updateFilter = (key, value) =>\n    setAttributes({\n      filters: {\n        ...(attributes.filters || {}),\n        [key]: Number.parseInt(value),\n      },\n    });\n\n  // update custom fields\n  const updateCustomField = (key, value) => {\n    setAttributes({\n      custom_fields: {\n        [key]: value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"step__wrapper\">\n      <div className=\"step__header\">\n        <Filter className=\"step__header_icon\" />\n        <div className=\"step__heading\">\n          <h4 className=\"step__header_title\">Filters and Notes</h4>\n          <p className=\"step__description\">Set filters and add notes</p>\n        </div>\n      </div>\n\n      <div className=\"step__content\">\n        <div className=\"step__content_block\">\n          {hasAnyFilters && (\n            <div className=\"step__content\">\n              {/* Category */}\n              {filtersList.categories?.length > 0 && (\n                <div className=\"step__content_block\">\n                  <span className=\"step__content_title\">Category</span>\n                  <NewSelectControl\n                    helpText=\"Select category\"\n                    value={categoryId}\n                    options={mapOptions(filtersList.categories)}\n                    onChange={(val) => updateFilter(\"category_id\", val)}\n                    iconRight={<ChevronDownIcon />}\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              )}\n\n              {/* Language */}\n              {filtersList.languages?.length > 0 && (\n                <div className=\"step__content_block\">\n                  <span className=\"step__content_title\">Language</span>\n                  <NewSelectControl\n                    helpText=\"Select language\"\n                    value={languageId}\n                    options={mapOptions(filtersList.languages)}\n                    onChange={(val) => updateFilter(\"language_id\", val)}\n                    iconRight={<ChevronDownIcon />}\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              )}\n\n              {/* Members */}\n              {filtersList.members?.length > 0 && (\n                <div className=\"step__content_block\">\n                  <span className=\"step__content_title\">Members</span>\n                  <NewSelectControl\n                    value={memberIds}\n                    options={mapOptions(filtersList.members)}\n                    multiple\n                    onChange={(vals) => updateFilter(\"members\", vals)}\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              )}\n\n              <div className=\"step__content_delimeter\" />\n            </div>\n          )}\n\n          {/* Custom fields */}\n          <div className=\"step__content\">\n            {/* <span className=\"step__content_title\">Additional notes</span> */}\n            <div className=\"step__content_block\">\n              <span className=\"step__content_title\">Note Title</span>\n              <NewInputControl\n                // label=\"Title\"\n                placeholder=\"Enter a note title\"\n                value={custom_field_2_name}\n                onChange={(val) =>\n                  updateCustomField(\"custom_field_2_name\", val)\n                }\n              />\n            </div>\n            <div className=\"step__content_block\">\n              <span className=\"step__content_title\">Note Description</span>\n              <NewInputControl\n                // label=\"Description\"\n                placeholder=\"Enter a note description\"\n                value={custom_field_2_value}\n                textarea\n                onChange={(val) =>\n                  updateCustomField(\"custom_field_2_value\", val)\n                }\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"servv_actions mt-auto\">\n        <button\n          type=\"button\"\n          className=\"servv_button servv_button--secondary\"\n          onClick={() => changeStep(\"tickets\")}\n        >\n          Previous\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"servv_button servv_button--primary\"\n          onClick={() => changeStep(\"branding\")}\n        >\n          Continue\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FiltersStep;\n","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m19.5 8.25-7.5 7.5-7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;"],"names":["React","jsx","_jsx","jsxs","_jsxs","NewInputControl","label","value","placeholder","helpText","disabled","onChange","textarea","style","InputTag","className","width","children","e","target","rows","undefined","NewSelectControl","options","iconRight","map","option","Filter","ChevronDownIcon","useServvStore","FiltersStep","attributes","setAttributes","changeStep","filtersList","s","filters","categoryId","category_id","languageId","language_id","memberIds","members","customFields","custom_fields","custom_field_2_name","custom_field_2_value","hasAnyFilters","categories","length","languages","mapOptions","list","i","String","id","name","updateFilter","key","Number","parseInt","updateCustomField","val","multiple","vals","type","onClick"],"sourceRoot":""}