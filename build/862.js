"use strict";(self.webpackChunkservv_plugin=self.webpackChunkservv_plugin||[]).push([[862],{9739:(e,a,n)=>{n.d(a,{A:()=>l});var s=n(280),t=n(790);const l=({text:e,icon:a=null,iconAfter:n=null,image:l=null,color:r,type:c,size:i,align:o,fullWidth:d=!1,justify:u=null,onAction:m=()=>{}})=>(0,t.jsxs)("div",{className:`badge ${d?"w-max":""} ${"small"===i?"badge-small":"medium"===i?"badge-medium":"large"===i?"badge-large":"badge-small"} ${"pill-colour"===c?"badge-pill-colour":"pill-outline"===c?"badge-pill-outline":"badge"===c?"badge-colour":"badge-modern"} ${"gray"===r?"badge-gray":"brand"===r?"badge-brand":"error"===r?"badge-error":"warning"===r?"badge-warning":"success"===r?"badge-success":"badge-gray"} ${"center"===o?"items-center":"items-end"} ${u&&"start"===u?"justify-start":u} cursor-pointer\n`,onClick:m,children:[a&&a,l&&(0,t.jsx)(s.A,{image:l}),e&&(0,t.jsx)("span",{children:e}),n&&n]})},280:(e,a,n)=>{n.d(a,{A:()=>t});var s=n(790);const t=({image:e})=>(0,s.jsx)("div",{className:"badge-image",style:{background:`url('${e}')`}})},6477:(e,a,n)=>{n.d(a,{A:()=>t}),n(1609);var s=n(790);const t=({gap:e=4,cardsLayout:a,action:n,disabled:t,onAction:l,className:r="",children:c,...i})=>(0,s.jsx)("div",{...i,onClick:l?()=>l():void 0,className:`${r} flex flex-col ${e?`space-y-${e}`:""} ${a?"flex-[1_1_0]":""} ${n?"cursor-pointer":""} ${t?"filter grayscale":""}`,children:c})},9390:(e,a,n)=>{n.d(a,{A:()=>t}),n(1609);var s=n(790);const t=e=>{const{className:a="",padding:n,align:t,background:l,maxWidth:r,children:c,...i}=e;return(0,s.jsx)("div",{...i,className:`servv-card ${n||"p-0"} ${"center"===t?"mx-auto":""} ${l||"bg-white"} max-md:max-w-full w-full ${r?`md:max-w-[${r}]`:""} ${a}`,children:c})}},3350:(e,a,n)=>{n.d(a,{A:()=>t}),n(1609);var s=n(790);const t=e=>{const{className:a="",children:n,...t}=e;return(0,s.jsx)("div",{...t,className:`page-content ${a}`,children:n})}},4102:(e,a,n)=>{n.d(a,{A:()=>t}),n(1609);var s=n(790);const t=e=>{const{className:a="",bottomLine:n,children:t,...l}=e;return(0,s.jsx)("div",{...l,className:`page-header ${n?"border-b pb-4":""} ${a}`,children:t})}},8509:(e,a,n)=>{n.d(a,{A:()=>c});var s=n(1609);function t({title:e,titleId:a,...n},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const l=s.forwardRef(t);var r=n(790);const c=({breadcrumbs:e=[],onBreadCrumbClick:a=()=>{}})=>(0,r.jsx)("div",{className:"breadcrumbs flex flex-row items-center gap-4 "+(e.length>1?"opacity-100":"opacity-0"),children:e.map(((n,s)=>(0,r.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,r.jsx)("a",{href:"",onClick:e=>((e,n)=>{e.preventDefault(),n.action(),a(n.label)})(e,n),children:n.label}),s<e.length-1&&(0,r.jsx)(l,{className:"breadcrumbs-icon"})]})))})},4862:(e,a,n)=>{n.r(a),n.d(a,{default:()=>h});var s=n(1609),l=n(4102),r=n(3350),c=n(6477),i=n(5571),o=n(9739),d=n(9390),u=n(8509),m=n(7536),g=n(5052),v=n(790);const h=({onPageSelect:e=()=>{}})=>{const a=(0,g.Zp)(),[n,h]=(0,s.useState)(null),[p,x]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{const e=await(0,m.A)({method:"GET",url:"/wp-json/servv-plugin/v1/gmail/account",headers:{"X-WP-Nonce":servvData.nonce}});e&&200===e.status&&(e.data.email&&h(e.data),x(!0))})()}),[]),(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(l.A,{children:(0,v.jsxs)(c.A,{children:[(0,v.jsx)("h1",{className:"text-display-sm mt-6",children:t("Emails")}),(0,v.jsx)(u.A,{breadcrumbs:[{label:"Integrations",action:()=>a("../integrations")},{label:"Calendar",action:()=>{}}]})]})}),(0,v.jsx)(r.A,{children:(0,v.jsx)(i.A,{gap:8,cardsLayout:!0,children:(0,v.jsxs)(d.A,{padding:0,maxWidth:"65%",align:"center",children:[(0,v.jsx)("div",{className:"service-image",style:{background:"linear-gradient(135deg, #D93025, #EA4335)"},children:n&&(0,v.jsxs)("div",{className:"connected-account bg-gradient-to-b from-transparent to-black/40",children:[(0,v.jsx)("span",{children:t("Account")}),(0,v.jsx)(o.A,{text:(0,v.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,v.jsx)(o.A,{background:"gray",text:n?"Connected":"Not connected",icon:"",justify:"start"}),(0,v.jsx)("span",{children:n?n.email:"Please connect your account"})]}),justify:"start",color:"gray"})]})}),(0,v.jsxs)("div",{className:"card-content",children:[(0,v.jsx)("h2",{className:"card-section-heading",children:t("Gmail")}),(0,v.jsx)("p",{className:"section-description",children:"Automate email notifications and reminders through your Gmail account to ensure smooth event communication"}),p&&!n&&(0,v.jsx)("a",{href:"#",className:"servv-button-link",onClick:e=>{e.preventDefault(),(async()=>{const e=await(0,m.A)("/wp-json/servv-plugin/v1/gmail/url",{method:"GET",headers:{"X-WP-Nonce":servvData.nonce},redirect:"manual"});e&&200===e.status&&open(`${servvData.shopify_app}/mail/connect?wordpress_url=${encodeURIComponent(e.data.auth_url)}&wordpress_return_url=${encodeURIComponent(window.location.origin)}&servv_nonce=${e.data.nonce}`,"_top")})()},children:t("Connect")}),p&&n&&(0,v.jsx)("a",{href:"#",className:"servv-button-link",onClick:e=>{e.preventDefault(),(async()=>{await(0,m.A)({method:"DELETE",url:"/wp-json/servv-plugin/v1/gmail/account",headers:{"X-WP-Nonce":servvData.nonce}}),h(null)})()},children:t("Disconnect")})]})]})})})]})}}}]);