{"version":3,"file":"src_Components_PostEditor_VenueStep_jsx.js?ver=d111d7bb1889362c09b8","mappings":"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","sources":["webpack://servv-plugin/./src/Components/Controls/NewSelectControl.jsx","webpack://servv-plugin/./src/Components/Controls/RecurrenceRadioGroup.jsx","webpack://servv-plugin/./src/Components/PostEditor/VenueStep.jsx","webpack://servv-plugin/./node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js"],"sourcesContent":["import React from \"react\";\n\nconst NewSelectControl = ({\n  label = \"\",\n  options = [],\n  helpText = \"\",\n  value = \"\",\n  disabled = false,\n  onChange = () => {},\n  iconRight = null,\n  style = {},\n}) => {\n  return (\n    <div className=\"servv-select\" style={{ width: \"100%\" }}>\n      {label && <label className=\"step__content_title\">{label}</label>}\n\n      <div\n        className={`servv-select__control ${\n          disabled ? \"servv-select--disabled\" : \"\"\n        }`}\n        style={style}\n      >\n        <select\n          className=\"servv-select__native\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          disabled={disabled}\n        >\n          {helpText && (\n            <option value=\"\" disabled>\n              {helpText}\n            </option>\n          )}\n\n          {options.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n\n        {iconRight && <span className=\"servv-select__icon\">{iconRight}</span>}\n      </div>\n    </div>\n  );\n};\n\nexport default NewSelectControl;\n","import React from \"react\";\n\nconst RadioGroup = ({\n  name,\n  value,\n  options = [], // [{ value, label }]\n  onChange,\n  disabled = false,\n  className = \"\",\n}) => {\n  return (\n    <div className={`servv-recurrence-group ${className}`}>\n      {options.map((opt) => (\n        <label key={opt.value} className=\"servv-radio\">\n          <input\n            type=\"radio\"\n            name={name}\n            value={opt.value}\n            checked={value === opt.value}\n            onChange={() => onChange(opt.value)}\n            disabled={disabled}\n          />\n          <span className=\"servv-radio__control\" />\n          <span className=\"servv-radio__label\">{opt.label}</span>\n        </label>\n      ))}\n    </div>\n  );\n};\n\nexport default RadioGroup;\n","import { useEffect } from \"react\";\nimport { MapMarkIcon } from \"../../assets/icons\";\nimport { ChevronDownIcon } from \"@heroicons/react/24/outline\";\nimport NewSelectControl from \"../Controls/NewSelectControl\";\nimport RadioGroup from \"../Controls/RecurrenceRadioGroup\";\nimport { useServvStore } from \"../../store/useServvStore\";\nconst VenueStep = ({\n  attributes,\n  setAttributes,\n  changeStep,\n  zoomConnected,\n  isNew,\n  settings,\n}) => {\n  const filtersList = useServvStore((s) => s.filtersList);\n  const locationId = attributes?.filters?.location_id || \"\";\n\n  const locationOptions =\n    filtersList?.locations?.map((loc) => ({\n      value: String(loc.id),\n      label: loc.name,\n    })) || [];\n\n  const handleLocationChange = (val) => {\n    setAttributes({\n      filters: {\n        ...(attributes.filters || {}),\n        location_id: Number.parseInt(val),\n      },\n    });\n  };\n\n  const handleVenueChange = (newVal) => {\n    let newEventType = 1;\n    if (newVal === \"offline\") {\n      if (attributes.meeting.recurrence) {\n        newEventType = 2;\n      } else {\n        newEventType = 1;\n      }\n    } else if (newVal === \"zoom\") {\n      if (attributes.meeting.recurrence) {\n        newEventType = 4;\n      } else {\n        newEventType = 2;\n      }\n    } else if (newVal === \"hybrid\") {\n      if (attributes.meeting.recurrence) {\n        newEventType = 4;\n      } else {\n        newEventType = 2;\n      }\n    }\n    setAttributes({\n      location: newVal,\n      defaultLocationChanged: true,\n      meeting: { ...attributes.meeting, eventType: newEventType },\n    });\n  };\n  useEffect(() => {\n    if (!settings?.settings?.admin_dashboard) {\n      return;\n    }\n\n    const adminDashboard = settings.settings.admin_dashboard;\n\n    try {\n      if (typeof adminDashboard !== \"string\") {\n        console.warn(\"adminDashboard is not a string:\", typeof adminDashboard);\n        return;\n      }\n\n      const parsed = JSON.parse(adminDashboard);\n\n      if (!parsed || typeof parsed !== \"object\") {\n        console.warn(\"Parsed adminDashboard is not a valid object\");\n        return;\n      }\n\n      const { default_event_type } = parsed;\n\n      if (!default_event_type || typeof default_event_type !== \"string\") {\n        return;\n      }\n\n      const shouldSetZoom =\n        (default_event_type === \"zoom\" || default_event_type === \"online\") &&\n        zoomConnected === true &&\n        !attributes.defaultLocationChanged;\n\n      if (shouldSetZoom) {\n        handleVenueChange(\"zoom\");\n      }\n    } catch (error) {\n      console.error(\"Error parsing adminDashboard settings:\", {\n        error: error instanceof Error ? error.message : \"Unknown error\",\n        rawData: adminDashboard,\n      });\n    }\n  }, [\n    settings,\n    zoomConnected,\n    attributes?.location,\n    attributes.defaultLocationChanged,\n  ]);\n\n  return (\n    <div className=\"step__wrapper\">\n      <div className=\"step__header\">\n        <MapMarkIcon className=\"step__header_icon\" />\n        <div className=\"step__heading\">\n          <h4 className=\"step__header_title\">Location</h4>\n          <p className=\"step__description\">Choose the event location</p>\n        </div>\n      </div>\n      {zoomConnected && (\n        <div className=\"step__content\">\n          <div className=\"step__content_block\">\n            <span className=\"step__content_title\">Event type</span>\n\n            <RadioGroup\n              name=\"venue-mode\"\n              value={attributes.location}\n              options={[\n                { value: \"offline\", label: \"Offline\" },\n                { value: \"zoom\", label: \"Zoom\" },\n                // { value: \"hybrid\", label: \"Hybrid\" },\n              ]}\n              disabled={!zoomConnected || !isNew}\n              onChange={handleVenueChange}\n            />\n          </div>\n        </div>\n      )}\n      <div className=\"step__content\">\n        {(attributes.location === \"offline\" ||\n          attributes.location === \"hybrid\") && (\n          <div className=\"step__content_block\">\n            <span className=\"step__content_title\">Location</span>\n\n            <NewSelectControl\n              helpText=\"Select location\"\n              value={locationId}\n              options={locationOptions}\n              onChange={handleLocationChange}\n              iconRight={<ChevronDownIcon />}\n              style={{ width: \"100%\" }}\n            />\n          </div>\n        )}\n        {/* {attributes.type === \"hybrid\" && (\n          <RadioGroup\n            name=\"-mode\"\n            value={attributes.type}\n            options={[\n              { value: \"offline\", label: \"Offline\" },\n              { value: \"zoom\", label: \"Zoom\" },\n              { value: \"hybrid\", label: \"Hybrid\" },\n            ]}\n            onChange={handleVenueChange}\n          />\n        )} */}\n        <div className=\"servv_actions mt-auto\">\n          <button\n            type=\"button\"\n            className=\"servv_button servv_button--secondary\"\n            onClick={() => changeStep(\"date\")}\n          >\n            Previous\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"servv_button servv_button--primary\"\n            onClick={() => changeStep(\"tickets\")}\n          >\n            Continue\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default VenueStep;\n","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m19.5 8.25-7.5 7.5-7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;"],"names":["React","jsx","_jsx","jsxs","_jsxs","NewSelectControl","label","options","helpText","value","disabled","onChange","iconRight","style","className","width","children","e","target","map","option","RadioGroup","name","opt","type","checked","useEffect","MapMarkIcon","ChevronDownIcon","useServvStore","VenueStep","attributes","setAttributes","changeStep","zoomConnected","isNew","settings","filtersList","s","locationId","filters","location_id","locationOptions","locations","loc","String","id","handleLocationChange","val","Number","parseInt","handleVenueChange","newVal","newEventType","meeting","recurrence","location","defaultLocationChanged","eventType","admin_dashboard","adminDashboard","console","warn","parsed","JSON","parse","default_event_type","shouldSetZoom","error","Error","message","rawData","onClick"],"sourceRoot":""}