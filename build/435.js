"use strict";(self.webpackChunkservv_plugin=self.webpackChunkservv_plugin||[]).push([[435],{6477:(e,l,a)=>{a.d(l,{A:()=>n}),a(1609);var t=a(790);const n=({gap:e=4,cardsLayout:l,action:a,disabled:n,onAction:r,className:i="",children:s,...o})=>(0,t.jsx)("div",{...o,onClick:r?()=>r():void 0,className:`${i} flex flex-col ${e?`space-y-${e}`:""} ${l?"flex-[1_1_0]":""} ${a?"cursor-pointer":""} ${n?"filter grayscale":""}`,children:s})},9390:(e,l,a)=>{a.d(l,{A:()=>n}),a(1609);var t=a(790);const n=e=>{const{className:l="",padding:a,align:n,background:r,maxWidth:i,children:s,...o}=e;return(0,t.jsx)("div",{...o,className:`servv-card ${a||"p-0"} ${"center"===n?"mx-auto":""} ${r||"bg-white"} max-md:max-w-full w-full ${i?`md:max-w-[${i}]`:""} ${l}`,children:s})}},3144:(e,l,a)=>{a.d(l,{A:()=>n}),a(1609);var t=a(790);const n=({headings:e,rows:l,loading:a=!1,className:n="",tableClassName:r="",...i})=>(0,t.jsx)("div",{className:`table-container w-full ${n}`,...i,children:(0,t.jsxs)("table",{className:`filter-table w-full ${r}`,children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"filter-table-headings",children:e})}),a?(0,t.jsx)("tbody",{children:(0,t.jsx)("div",{className:a?"flex flex-col flex-1 h-full w-full pl-4 md:pl-6 lg:pl-8 pr-4 max-w-full min-w-0 overflow-visible loading":"",children:l})}):(0,t.jsx)("tbody",{children:l})]})})},4102:(e,l,a)=>{a.d(l,{A:()=>n}),a(1609);var t=a(790);const n=e=>{const{className:l="",bottomLine:a,children:n,...r}=e;return(0,t.jsx)("div",{...r,className:`page-header ${a?"border-b pb-4":""} ${l}`,children:n})}},5794:(e,l,a)=>{a.d(l,{A:()=>n});var t=a(790);const n=({label:e="",value:l="",name:a="",size:n=6,checked:r=!1,disabled:i,onChange:s=()=>{},font:o=null,color:c="text-gray-700"})=>(0,t.jsxs)("div",{className:"input-container-row items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:`input-control checkbox-control size-${n} accent-brand-700`,name:a,checked:r,disabled:i,onChange:s}),(0,t.jsx)("label",{htmlFor:a,className:`section-description ${c} ${o||""}`,children:e})]})},5005:(e,l,a)=>{a.d(l,{A:()=>n}),a(1609);var t=a(790);const n=({text:e,icon:l,type:a,onAction:n,disabled:r=!1,className:i="",style:s={}})=>(0,t.jsxs)("button",{onClick:n,disabled:r,className:`\n        flex items-center justify-center px-4 py-2 rounded-lg\n        font-medium text-sm transition-colors duration-200\n        ${"primary"===a?"bg-purple-600 text-white hover:bg-purple-700 focus:ring-2 focus:ring-purple-200":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200"}\n        ${r?"opacity-50 cursor-not-allowed":""}\n        ${i}\n      `,style:{fontFamily:"'Inter', sans-serif",...s},children:[l&&(0,t.jsx)("span",{className:"mr-2",children:l}),e]})},8509:(e,l,a)=>{a.d(l,{A:()=>s});var t=a(1609);function n({title:e,titleId:l,...a},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},a),e?t.createElement("title",{id:l},e):null,t.createElement("path",{fillRule:"evenodd",d:"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const r=t.forwardRef(n);var i=a(790);const s=({breadcrumbs:e=[],onBreadCrumbClick:l=()=>{}})=>(0,i.jsx)("div",{className:"breadcrumbs flex flex-row items-center gap-4 "+(e.length>1?"opacity-100":"opacity-0"),children:e.map(((a,t)=>(0,i.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,i.jsx)("a",{href:"",onClick:e=>((e,a)=>{e.preventDefault(),a.action(),l(a.label)})(e,a),children:a.label}),t<e.length-1&&(0,i.jsx)(r,{className:"breadcrumbs-icon"})]})))})},320:(e,l,a)=>{a.d(l,{A:()=>i});var t=a(3592),n=a(790);const r={display:"block",margin:"0 auto"},i=({loading:e,color:l="#7319C6"})=>(0,n.jsx)("div",{className:"svv-sweet-loading",children:(0,n.jsx)(t.A,{color:l,loading:e,cssOverride:r,size:75,"aria-label":"Loading Spinner","data-testid":"loader"})})},3435:(e,l,a)=>{a.r(l),a.d(l,{default:()=>w});var t=a(5052),n=a(9778),r=a(3144),i=a(9390),s=a(5005),o=a(1609),c=a(5571),d=a(6477),u=a(5794),m=a(4023);function h({title:e,titleId:l,...a},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),e?o.createElement("title",{id:l},e):null,o.createElement("path",{fillRule:"evenodd",d:"M11.013 2.513a1.75 1.75 0 0 1 2.475 2.474L6.226 12.25a2.751 2.751 0 0 1-.892.596l-2.047.848a.75.75 0 0 1-.98-.98l.848-2.047a2.75 2.75 0 0 1 .596-.892l7.262-7.261Z",clipRule:"evenodd"}))}const p=o.forwardRef(h);var v=a(790);const f=({title:e,filters:l,selected:a,onSelect:n,onEdit:h,onDelete:f,onSelectAll:b,handleSingleDelete:x,setLoading:g})=>{const w=(0,t.Zp)(),j=()=>"Languages"===e?[{label:"Name",value:"name"},{label:"Order",value:"priority"},{label:"",value:"action1"}]:"Locations"===e?[{label:"Name",value:"name"},{label:"Details",value:"details"},{label:"Operational hours",value:"operational_hours"},{label:"Order",value:"priority"},{label:"",value:"action"}]:"Members"===e?[{label:"Name",value:"name"},{label:"Email",value:"email"},{label:"Phone",value:"phone"},{label:"Description",value:"description"},{label:"Order",value:"priority"},{label:"",value:"action"}]:"Categories"===e?[{label:"Name",value:"name"},{label:"Description",value:"details"},{label:"Order",value:"priority"},{label:"",value:"action"}]:[{label:"Name",value:"name"},{label:"Order",value:"priority"},{label:"",value:"action"}];return(0,v.jsx)(o.Fragment,{children:(0,v.jsxs)(d.A,{gap:4,children:[(0,v.jsx)(c.A,{children:(0,v.jsx)(s.A,{text:"Delete",icon:null,type:"secondary",onAction:()=>{a.length>0&&window.confirm(`Are you sure you want to delete the selected ${e.toLowerCase()}?`)&&f(e,a)},hidden:0===a.length})}),l&&l.length>0&&(0,v.jsx)(i.A,{children:(0,v.jsx)(r.A,{headings:(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)("th",{children:(0,v.jsx)(u.A,{checked:a.length===l.length,onChange:()=>b()})}),j().map((e=>(0,v.jsx)("th",{children:e.label}))),(0,v.jsx)("th",{})]}),rows:(l=>l.map((l=>(0,v.jsxs)("tr",{className:"table-row",children:[(0,v.jsx)("td",{children:(0,v.jsx)(u.A,{checked:a.includes(l.id),onChange:()=>n(l.id)})}),j().map((a=>(0,v.jsx)("td",{className:"max-w-[150px]",children:"name"===a.value?(0,v.jsx)("div",{className:"truncate w-full",children:(0,v.jsx)("a",{href:"#",className:"filter-table-link",onClick:a=>{a.preventDefault(),w(`/filters/new/${e}?id=${l.id}`)},children:l[a.value]})}):(0,v.jsx)("div",{className:"truncate w-full",children:(0,v.jsx)("span",{className:"break-all",children:l[a.value]})})},a.value))),(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,v.jsx)(m.A,{className:"button-icon",onClick:()=>{window.confirm(`Are you sure you want to delete this ${e.slice(0,-1).toLowerCase()}?`)&&f(e,[l.id])}}),(0,v.jsx)(p,{className:"button-icon",onClick:a=>{a.preventDefault(),w(`/filters/new/${e}?id=${l.id}`)}})]})})]},l.id))))(l)})})]})})};var b=a(3980),x=a(4102),g=a(8509);function w(){const e=(0,t.Zp)(),{type:l}=(0,t.g)(),a=(0,n.z)((e=>e.filtersList)),r=(0,n.z)((e=>e.syncFiltersFromServer)),[i,s]=(0,o.useState)([]),[c,u]=(0,o.useState)(!1),m=a[l.toLowerCase()]||[];(0,o.useEffect)((()=>{r()}),[]);const h=[{label:"Filters",action:()=>e("/filters")},{label:l,action:()=>{}}];return(0,v.jsx)(b.A,{loading:c,children:(0,v.jsxs)(d.A,{gap:4,children:[(0,v.jsx)(x.A,{children:(0,v.jsxs)(d.A,{children:[(0,v.jsx)("h1",{className:"text-display-sm mt-6",children:l}),(0,v.jsx)(g.A,{breadcrumbs:h,onBreadCrumbClick:e=>{const l=h.find((l=>l.label===e));l?.action&&l.action()}}),(0,v.jsxs)("p",{className:"page-header-description mb-6",children:["Manage your ",l.toLowerCase()," â€” view, edit, and delete entries."]})]})}),(0,v.jsx)(f,{title:l,filters:m,selected:i,onSelect:e=>s((l=>l.includes(e)?l.filter((l=>l!==e)):[...l,e])),onSelectAll:()=>{i.length===m.length?s([]):s(m.map((e=>e.id)))},onDelete:async(e,l)=>{u(!0),await Promise.allSettled(l.map((l=>fetch(`/wp-json/servv-plugin/v1/filters/${e.toLowerCase()}/${l}`,{method:"DELETE",headers:{"X-WP-Nonce":servvData.nonce}})))),await r(),s([]),u(!1)}})]})})}},3980:(e,l,a)=>{a.d(l,{A:()=>i});var t=a(1409),n=a(320),r=a(790);const i=e=>(0,r.jsxs)("div",{className:"w-full relative",children:[(0,r.jsx)("div",{className:"absolute top-[50vh] left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.loading&&(0,r.jsx)(n.A,{loading:!0})}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 h-full w-full pl-4 md:pl-6 lg:pl-8 pr-4 max-w-full min-w-0 overflow-visible "+(e.loading?"loading":""),children:[(0,r.jsx)(t.N9,{position:"bottom-right"}),e.children]})]})},3592:(e,l,a)=>{a.d(l,{A:()=>o});var t=a(1609),n=a(869),r=a(2869),i=function(){return i=Object.assign||function(e){for(var l,a=1,t=arguments.length;a<t;a++)for(var n in l=arguments[a])Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);return e},i.apply(this,arguments)},s=(0,r.J)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const o=function(e){var l=e.loading,a=void 0===l||l,r=e.color,o=void 0===r?"#000000":r,c=e.speedMultiplier,d=void 0===c?1:c,u=e.cssOverride,m=void 0===u?{}:u,h=e.size,p=void 0===h?35:h,v=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a}(e,["loading","color","speedMultiplier","cssOverride","size"]),f=i({background:"transparent !important",width:(0,n.p)(p),height:(0,n.p)(p),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(s," ").concat(.75/d,"s 0s infinite linear"),animationFillMode:"both"},m);return a?t.createElement("span",i({style:f},v)):null}},2869:(e,l,a)=>{a.d(l,{J:()=>t});var t=function(e,l,a){var t="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return t;var n=document.createElement("style");document.head.appendChild(n);var r=n.sheet,i="\n    @keyframes ".concat(t," {\n      ").concat(l,"\n    }\n  ");return r&&r.insertRule(i,0),t}},869:(e,l,a)=>{a.d(l,{p:()=>n});var t={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){var l=function(e){if("number"==typeof e)return{value:e,unit:"px"};var l,a=(e.match(/^[0-9.]*/)||"").toString();l=a.includes(".")?parseFloat(a):parseInt(a,10);var n=(e.match(/[^0-9]*$/)||"").toString();return t[n]?{value:l,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(l,"px.")),{value:l,unit:"px"})}(e);return"".concat(l.value).concat(l.unit)}},4023:(e,l,a)=>{a.d(l,{A:()=>r});var t=a(1609);function n({title:e,titleId:l,...a},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},a),e?t.createElement("title",{id:l},e):null,t.createElement("path",{fillRule:"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z",clipRule:"evenodd"}))}const r=t.forwardRef(n)}}]);