"use strict";(self.webpackChunkservv_plugin=self.webpackChunkservv_plugin||[]).push([[566],{9739:(e,a,n)=>{n.d(a,{A:()=>r});var s=n(280),l=n(790);const r=({text:e,icon:a=null,iconAfter:n=null,image:r=null,color:t,type:c,size:d,align:i,fullWidth:o=!1,justify:u=null,onAction:g=()=>{}})=>(0,l.jsxs)("div",{className:`badge ${o?"w-max":""} ${"small"===d?"badge-small":"medium"===d?"badge-medium":"large"===d?"badge-large":"badge-small"} ${"pill-colour"===c?"badge-pill-colour":"pill-outline"===c?"badge-pill-outline":"badge"===c?"badge-colour":"badge-modern"} ${"gray"===t?"badge-gray":"brand"===t?"badge-brand":"error"===t?"badge-error":"warning"===t?"badge-warning":"success"===t?"badge-success":"badge-gray"} ${"center"===i?"items-center":"items-end"} ${u&&"start"===u?"justify-start":u} cursor-pointer\n`,onClick:g,children:[a&&a,r&&(0,l.jsx)(s.A,{image:r}),e&&(0,l.jsx)("span",{children:e}),n&&n]})},280:(e,a,n)=>{n.d(a,{A:()=>l});var s=n(790);const l=({image:e})=>(0,s.jsx)("div",{className:"badge-image",style:{background:`url('${e}')`}})},6477:(e,a,n)=>{n.d(a,{A:()=>l}),n(1609);var s=n(790);const l=({gap:e=4,cardsLayout:a,action:n,disabled:l,onAction:r,className:t="",children:c,...d})=>(0,s.jsx)("div",{...d,onClick:r?()=>r():void 0,className:`${t} flex flex-col ${e?`space-y-${e}`:""} ${a?"flex-[1_1_0]":""} ${n?"cursor-pointer":""} ${l?"filter grayscale":""}`,children:c})},9390:(e,a,n)=>{n.d(a,{A:()=>l}),n(1609);var s=n(790);const l=e=>{const{className:a="",padding:n,align:l,background:r,maxWidth:t,children:c,...d}=e;return(0,s.jsx)("div",{...d,className:`servv-card ${n||"p-0"} ${"center"===l?"mx-auto":""} ${r||"bg-white"} max-md:max-w-full w-full ${t?`md:max-w-[${t}]`:""} ${a}`,children:c})}},3350:(e,a,n)=>{n.d(a,{A:()=>l}),n(1609);var s=n(790);const l=e=>{const{className:a="",children:n,...l}=e;return(0,s.jsx)("div",{...l,className:`page-content ${a}`,children:n})}},4102:(e,a,n)=>{n.d(a,{A:()=>l}),n(1609);var s=n(790);const l=e=>{const{className:a="",bottomLine:n,children:l,...r}=e;return(0,s.jsx)("div",{...r,className:`page-header ${n?"border-b pb-4":""} ${a}`,children:l})}},8509:(e,a,n)=>{n.d(a,{A:()=>c});var s=n(1609);function l({title:e,titleId:a,...n},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},n),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const r=s.forwardRef(l);var t=n(790);const c=({breadcrumbs:e=[],onBreadCrumbClick:a=()=>{}})=>(0,t.jsx)("div",{className:"breadcrumbs flex flex-row items-center gap-4 "+(e.length>1?"opacity-100":"opacity-0"),children:e.map(((n,s)=>(0,t.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,t.jsx)("a",{href:"",onClick:e=>((e,n)=>{e.preventDefault(),n.action(),a(n.label)})(e,n),children:n.label}),s<e.length-1&&(0,t.jsx)(r,{className:"breadcrumbs-icon"})]})))})},7566:(e,a,n)=>{n.r(a),n.d(a,{default:()=>h});var s=n(1609),l=n(4102),r=n(3350),c=n(6477),d=n(5571),i=n(9739),o=n(9390),u=n(8509),g=n(7536),m=n(5052),v=n(790);const h=({onPageSelect:e})=>{const a=(0,m.Zp)(),[n,h]=(0,s.useState)(null),[p,b]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{const e=await(0,g.A)({method:"GET",url:"/wp-json/servv-plugin/v1/calendar/account",headers:{"X-WP-Nonce":servvData.nonce}});e&&200===e.status&&e.data&&e.data.id&&h(e.data?e.data:null),b(!0)})()}),[]),(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(l.A,{children:(0,v.jsxs)(c.A,{children:[(0,v.jsx)("h1",{className:"text-display-sm mt-6",children:t("Calendars")}),(0,v.jsx)(u.A,{breadcrumbs:[{label:"Integrations",action:()=>a("../integrations")},{label:"Calendar",action:()=>{}}],onBreadCrumbClick:()=>{}})]})}),(0,v.jsx)(r.A,{children:(0,v.jsx)(d.A,{gap:8,cardsLayout:!0,children:(0,v.jsxs)(o.A,{padding:0,maxWidth:"65%",align:"center",children:[(0,v.jsx)("div",{className:"service-image",style:{background:"linear-gradient(135deg, #0F9D58, #34A853)"},children:n&&(0,v.jsxs)("div",{className:"connected-account bg-gradient-to-b from-transparent to-black/40",children:[(0,v.jsx)("span",{children:t("Account")}),(0,v.jsx)(i.A,{text:(0,v.jsxs)("div",{className:"flex flex-row gap-2 items-start",children:[(0,v.jsx)(i.A,{background:"gray",text:n?"Connected":"Not connected",icon:"",align:"left",justify:"start"}),(0,v.jsx)("span",{className:"self-center",children:n?n.google_calendar_email:"Please connect your account"})]}),justify:"start",color:"gray"})]})}),(0,v.jsxs)("div",{className:"card-content",children:[(0,v.jsx)("h2",{className:"card-section-heading",children:t("Google Calendar")}),(0,v.jsx)("p",{className:"section-description",children:"Keep your team and attendees aligned by syncing events directly with Google Calendar"}),p&&!n&&(0,v.jsx)("a",{href:"#",className:"servv-button-link",onClick:e=>{e.preventDefault(),(async()=>{const e=await(0,g.A)("/wp-json/servv-plugin/v1/calendar/url",{method:"GET",headers:{"X-WP-Nonce":servvData.nonce},redirect:"manual"});e&&200===e.status&&open(`${servvData.shopify_app}/calendar/connect?wordpress_url=${encodeURIComponent(e.data.auth_url)}&wordpress_return_url=${encodeURIComponent(window.location.origin)}&servv_nonce=${e.data.nonce}`,"_top")})()},children:t("Connect")}),p&&n&&(0,v.jsx)("a",{href:"#",className:"servv-button-link",onClick:e=>{e.preventDefault(),(async()=>{await(0,g.A)({method:"DELETE",url:"/wp-json/servv-plugin/v1/calendar/account",headers:{"X-WP-Nonce":servvData.nonce}}),h(null)})()},children:t("Disconnect")})]})]})})})]})}}}]);