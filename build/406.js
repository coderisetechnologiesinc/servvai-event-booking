"use strict";(self.webpackChunkservv_plugin=self.webpackChunkservv_plugin||[]).push([[406],{7349:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=({title:e,description:t,children:s,className:l="",titleClassName:r="",contentClassName:n=""})=>(0,a.jsxs)("div",{className:`annotated-section flex flex-col md:flex-row gap-4 md:gap-8 items-start ${l}`,children:[(0,a.jsxs)("div",{className:"annotated-section-header flex-shrink-0 w-full md:w-32 lg:w-64",children:[(0,a.jsx)("h3",{className:`text-sm font-semibold text-gray-900 mb-1 ${r}`,style:{fontFamily:"'Inter', sans-serif"},children:e}),t&&(0,a.jsx)("p",{className:"text-sm text-gray-600 hidden md:block leading-relaxed",style:{fontFamily:"'Inter', sans-serif"},children:t})]}),(0,a.jsx)("div",{className:`annotated-section-content flex-1 w-full ${n}`,children:s})]})},6477:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=({gap:e=4,cardsLayout:t,action:s,disabled:l,onAction:r,className:n="",children:i,...c})=>(0,a.jsx)("div",{...c,onClick:r?()=>r():void 0,className:`${n} flex flex-col ${e?`space-y-${e}`:""} ${t?"flex-[1_1_0]":""} ${s?"cursor-pointer":""} ${l?"filter grayscale":""}`,children:i})},9390:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=e=>{const{className:t="",padding:s,align:l,background:r,maxWidth:n,children:i,...c}=e;return(0,a.jsx)("div",{...c,className:`servv-card ${s||"p-0"} ${"center"===l?"mx-auto":""} ${r||"bg-white"} max-md:max-w-full w-full ${n?`md:max-w-[${n}]`:""} ${t}`,children:i})}},7253:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(7246),l=s(847),r=s(1609),n=s(790);const i=e=>{const[t,s]=(0,r.useState)(!1);return(0,n.jsxs)("div",{className:"collapsible-section",children:[(0,n.jsxs)("div",{className:"collapsible-header",onClick:()=>s(!t),children:[(0,n.jsx)("span",{className:"collapsible-section-heading",children:e.sectionHeading}),t?(0,n.jsx)(l.A,{className:"button-icon"}):(0,n.jsx)(a.A,{className:"button-icon"})]}),t&&(0,n.jsx)("div",{className:"collapsible-content",children:e.children})]})}},3350:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=e=>{const{className:t="",children:s,...l}=e;return(0,a.jsx)("div",{...l,className:`page-content ${t}`,children:s})}},4102:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=e=>{const{className:t="",bottomLine:s,children:l,...r}=e;return(0,a.jsx)("div",{...r,className:`page-header ${s?"border-b pb-4":""} ${t}`,children:l})}},21:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=({title:e="",buttons:t=[],active:s=null,onChange:l=()=>{},disabled:r=!1})=>(0,a.jsx)("div",{className:"input-container-row justify-between",children:(0,a.jsxs)("div",{className:"input-container-col grow",children:[e.length>0&&(0,a.jsx)("div",{className:"section-description",children:e}),(0,a.jsx)("div",{className:"button-group-container",children:t.map((e=>(0,a.jsx)("button",{className:(s==e?"button-group-button-active":"button-group-button")+" section-description","data-value":e,disabled:r,onClick:e=>{l(e.target.dataset.value)},children:e},e)))})]})})},9339:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=({placeholder:e="",value:t="",type:s="text",disabled:l=!1,onChange:r=()=>{},handleKeyPress:n=()=>{},maxLength:i="",minValue:c="",maxValue:d="",fullWidth:o=!1,align:x="center",image:m=null,suffix:p="",width:u=null,prefix:h="",prefixWidth:g="w-12",step:b=null,className:f="",style:y={}})=>{const j=()=>{switch(x){case"center":return"text-center";case"right":return"text-right";default:return"text-left"}},v={boxSizing:"border-box",...y},N=`\n    w-full min-w-[4rem]\n    input-control\n    px-3 py-2\n    pl-6\n    border border-gray-300 rounded-lg\n    text-sm font-medium\n    focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500\n    disabled:bg-gray-100 disabled:cursor-not-allowed\n    transition-colors duration-200\n    section-description\n    ${j()}\n    ${o?"w-full":""}\n    ${u?"w-full":""}\n    ${"right"===x?"pr-1":""}\n    ${f}\n  `.trim(),w={width:o?"100%":u||void 0,fontFamily:"'Inter', sans-serif",...v};return m||""!==h?m||""===h?(0,a.jsxs)("div",{className:"flex relative group justify-center items-center w-full",children:[(0,a.jsx)("span",{className:"flex absolute left-0 bg-transparent rounded text-base text-gray-600 p-2",children:(0,a.jsx)("div",{className:"size-6",style:{backgroundImage:`url(${m})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"1.7rem",height:"1.7rem"}})}),(0,a.jsx)("input",{type:s,className:`\n          input-control section-description description-image\n          ${j()}\n          ${"right"===x?"pr-1 pl-8":""}\n          ${o?"w-full":""}\n          ${f}\n        `,style:w,placeholder:e,value:t,disabled:l,maxLength:i,min:c,max:d,onChange:e=>r(e.target.value),autoComplete:"off"})]}):(0,a.jsxs)("div",{className:"flex w-full rounded-lg border border-gray-300 overflow-hidden text-md shadow-sm h-9",children:[(0,a.jsx)("div",{className:`flex items-center justify-center bg-gray-50 text-gray-600 text-md ${g} border-r border-gray-300`,children:h}),(0,a.jsx)("input",{type:"text",inputMode:"decimal",pattern:"^\\d+(\\.\\d{0,2})?$",className:"w-full px-4 text-gray-800 placeholder-gray-400 text-md focus:outline-none bg-white [appearance:textfield]",placeholder:"0.00",value:t,onChange:e=>{let t=e.target.value.replace(/[^\d.]/g,"");if(t.includes(".")){const[e,s]=t.split(".");t=`${e}.${s.slice(0,2)}`}t.startsWith("00")?t="0":t.startsWith("0")&&"."!==t[1]&&(t=t.slice(1)),r(t)},style:v})]}):(0,a.jsxs)("div",{className:"flex relative group justify-center items-center w-full",children:[(0,a.jsx)("input",{type:s,className:N,style:w,placeholder:e,value:t,disabled:l,maxLength:i,min:c,max:d,onChange:e=>(e=>{const t=e.target.value;r("number"===s&&d&&t>d?d:"number"===s&&c&&t<c?c:t)})(e),onKeyDown:n,step:b,autoComplete:"off"}),p&&(0,a.jsx)("span",{className:"absolute text-gray-500 right-0 pr-8",style:{fontFamily:"'Inter', sans-serif"},children:p})]})}},5005:(e,t,s)=>{s.d(t,{A:()=>l}),s(1609);var a=s(790);const l=({text:e,icon:t,type:s,onAction:l,disabled:r=!1,className:n="",style:i={}})=>(0,a.jsxs)("button",{onClick:l,disabled:r,className:`\n        flex items-center justify-center px-4 py-2 rounded-lg\n        font-medium text-sm transition-colors duration-200\n        ${"primary"===s?"bg-purple-600 text-white hover:bg-purple-700 focus:ring-2 focus:ring-purple-200":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200"}\n        ${r?"opacity-50 cursor-not-allowed":""}\n        ${n}\n      `,style:{fontFamily:"'Inter', sans-serif",...i},children:[t&&(0,a.jsx)("span",{className:"mr-2",children:t}),e]})},3547:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(1609),l=s(790);const r=({label:e="",options:t=[],helpText:s="",selected:r=null,disabled:n=!1,onSelectChange:i=()=>{},iconRight:c=null,iconLeft:d=null,style:o={}})=>{const x={maxWidth:"100%",width:"100%",boxSizing:"border-box",...o};return(0,l.jsxs)("div",{className:"input-container-col",style:{width:"100%"},children:[(0,l.jsx)("label",{htmlFor:"timezone",className:"section-description",children:e}),(0,l.jsxs)("div",{className:"select-control-with-icon-container",style:{width:"100%"},children:[(0,l.jsx)("select",{name:"timezone",id:"timezone-select",className:"select-control select-control-with-icon text-sm p-4",value:r,onChange:e=>i(e.target.value),disabled:n,style:x,children:(()=>{if(t.length>0)return(0,l.jsxs)(a.Fragment,{children:[s.length>0&&(0,l.jsx)("option",{value:"",disabled:!0,selected:!r,children:s},""),t.map((e=>(0,l.jsx)("option",{value:e,selected:r===e,children:e},e)))]})})()}),null!==c&&c]})]})}},320:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3592),l=s(790);const r={display:"block",margin:"0 auto"},n=({loading:e,color:t="#7319C6"})=>(0,l.jsx)("div",{className:"svv-sweet-loading",children:(0,l.jsx)(a.A,{color:t,loading:e,cssOverride:r,size:75,"aria-label":"Loading Spinner","data-testid":"loader"})})},8406:(e,s,a)=>{a.r(s),a.d(s,{default:()=>H});var l=a(1609),r=a(4102),n=a(3350),i=a(5005),c=a(6477),d=a(5571),o=a(3547),x=a(7536),m=a(7326),p=a(3288),u=a(2421),h=a(7459),g=a(7716),b=a(6989),f=a(5588),y=a(790);const j=(0,l.forwardRef)((({readOnly:e,defaultValue:t,onTextChange:s,onSelectionChange:a,onChange:r,disabled:n},i)=>{(0,l.useEffect)((()=>{i.current?.enable(!e)}),[i,e]);const c=(0,l.useCallback)((e=>{if(!e)return"";const t=new RegExp(/\n\s*|\n+/gm);return e.replace(t,"").replace(/<b>/gi,"<strong>").replace(/<\/b>/gi,"</strong>").replace(/<p>\s*<\/p>/gi,"<p> </p>").replace(/>\s+</g,"><").replace(/<p>\s+/g,"<p>").replace(/\s+<\/p>/g,"</p>").replace(/(<br\s*\/?>\s*){2}/gi,"</p><p></p><p>")}),[]),d=(0,l.useRef)(null),o=(0,l.useRef)(s),x=(0,l.useRef)(a),j=(0,l.useRef)(r),[v,N]=(0,l.useState)(c(t)||"");return m.Ay.register({"modules/toolbar":p.A,"modules/clipboard":f.Ay,"themes/snow":u.A,"formats/bold":h.A,"formats/italic":g.A,"formats/header":b.A}),(0,l.useLayoutEffect)((()=>{o.current=s,j.current=r,x.current=a})),(0,l.useEffect)((()=>{i.current?.clipboard&&i.current?.clipboard.dangerouslyPasteHTML(t,"api")}),[t]),(0,l.useEffect)((()=>{i.current?.enable(!e)}),[i,e]),(0,l.useEffect)((()=>{const e=d.current,s=e.appendChild(e.ownerDocument.createElement("div")),a=new m.Ay(s,{debug:"error",theme:"snow"});return i.current=a,a.enable(!n),t&&a.clipboard.dangerouslyPasteHTML(t,"api"),a.on(m.Ay.events.TEXT_CHANGE,((...e)=>{o.current?.(...e);const t=c(a.getSemanticHTML());"api"===e[2]&&N(t),"user"===e[2]&&r(t,t.localeCompare(v))})),a.on(m.Ay.events.SELECTION_CHANGE,((...e)=>{x.current?.(...e)})),()=>{i.current=null,e.innerHTML=""}}),[i,v]),(0,y.jsx)("div",{ref:d})}));j.displayName="Editor";const v=j;var N=a(9339),w=(a(7349),a(21),a(9390));const A=({value:e,onChange:t})=>{const s=(0,l.useCallback)((e=>{if(!e||0===e.length)return e;const t=new RegExp(/\n\s*|\n+/gm);return e.replace(t,"").replace(/<p><br\/><\/p>/g,"<br/>").replace(/<p><br><\/p>/g,"<br/>").replace(/<br>/g,"<br/>")}),[]);return(0,y.jsx)("textarea",{rows:"8",resize:!1,value:s(e),onChange:e=>t(e.target.value)})},C=({value:e,onChange:t})=>(0,y.jsx)(w.A,{children:(0,y.jsx)(A,{value:e,onChange:t})});var T=a(3980),$=(a(7253),a(1409)),E=a(2889),S=a(4015),M=a(1371),L=a(5410),k=a(5110),R=a(72);const H=({settings:e})=>{const[s,a]=(0,l.useState)([]),[m,p]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),[g,b]=(0,l.useState)(window.innerWidth<768),[f,j]=(0,l.useState)(!1),w=(0,l.useRef)(),A=!s.length||!e||e&&2!==e.current_plan.id,[H,z]=(0,l.useState)({subject:"",text:"",editMode:"Rich Text"}),[_,P]=(0,l.useState)(""),[F,I]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=()=>b(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const W=async()=>{h(!0);try{const e=await x.A.get("/wp-json/servv-plugin/v1/wordpress/templates",{headers:{"X-WP-Nonce":servvData.nonce}});if(200===e.status&&e.data.templates.length){let t=e.data.templates.sort(((e,t)=>e.description.localeCompare(t.description)));a(t);const s=t[0];p(s),I(!0),z({subject:s.subject||"",text:s.text||"",editMode:"Rich Text"}),P(s.text||""),I(!1)}else(0,$.oR)("No Email Templates Available")}catch(e){console.error(e),$.oR.error("Failed To Load Email Templates")}h(!1)},D=async()=>{if(m){h(!0);try{200===(await x.A.patch(`/wp-json/servv-plugin/v1/wordpress/templates/${m.id}`,{subject:H.subject,text:H.text},{headers:{"X-WP-Nonce":servvData.nonce}})).status&&($.oR.success("Template Saved Successfully"),W())}catch(e){console.error(e),$.oR.error("Failed To Save Template")}h(!1)}},O=e=>{const t=s.find((t=>t.description===e));p(t),I(!0),z({subject:t.subject||"",text:t.text||"",editMode:H.editMode}),P(t.text||""),I(!1)},V=e=>{F||(z((t=>({...t,text:e}))),m&&p({...m,text:e}))},X=()=>{if(m){const e=s[0].text||"";z({subject:s[0].subject||"",text:e,editMode:H.editMode}),P(s[0].text),w.current?.clipboard&&w.current.clipboard.dangerouslyPasteHTML(e,"api")}},G=e=>{F||(z((t=>({...t,subject:e}))),m&&p({...m,subject:e}))},K=e=>{z((t=>({...t,editMode:e})))},q=e=>{if(!e)return"";const t=document.createElement("div");t.innerHTML=e;const s=e=>{if(e.nodeType===Node.TEXT_NODE){const t=e.textContent.replace(/(\S{50,})/g,(e=>e.replace(/(.{30})/g,"$1​")));e.textContent=t}else if(e.nodeType===Node.ELEMENT_NODE&&(Array.from(e.childNodes).forEach(s),"A"===e.tagName)){const t=e.getAttribute("href");t&&t.length>50&&(e.textContent=t.replace(/(.{30})/g,"$1​"))}};return Array.from(t.childNodes).forEach(s),t.innerHTML},B=()=>{if(!m||!m.params)return null;const e=Object.entries(m.params);return(0,y.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:(0,y.jsxs)("table",{className:"w-full",children:[(0,y.jsx)("thead",{className:"bg-gray-50",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:t("Parameter")}),(0,y.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:t("Description")})]})}),(0,y.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map((([e,t],s)=>(0,y.jsxs)("tr",{className:s%2==0?"bg-white":"bg-gray-50",children:[(0,y.jsx)("td",{className:"px-4 py-3 text-left align-top",children:(0,y.jsx)("code",{className:"text-sm font-mono font-bold text-purple-700 bg-purple-50 px-2 py-1 rounded",children:e})}),(0,y.jsx)("td",{className:"px-4 py-3 text-left align-top",children:(0,y.jsx)("span",{className:"text-sm text-gray-600",children:t})})]},e)))})]})})};return(0,l.useEffect)((()=>{W()}),[]),(0,y.jsx)(T.A,{loading:u,children:g?(0,y.jsxs)("div",{className:"w-full mx-auto bg-white min-h-screen",style:{fontFamily:"'Inter', sans-serif"},children:[(0,y.jsx)("div",{className:"sticky top-0 bg-white z-20 border-b border-gray-200 px-4 py-4",children:(0,y.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("h1",{className:"text-2xl text-gray-900",children:t("Email Templates")}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Easily view, create, and modify email templates"})]})})}),(0,y.jsxs)("div",{className:"p-4 space-y-8 pb-32",children:[(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(E.A,{className:"w-5 h-5 text-purple-600"}),(0,y.jsx)("label",{className:"text-base font-semibold text-gray-900",children:t("Template Name")})]}),(0,y.jsx)(o.A,{options:s.map((e=>e.description)),selected:m?.description||"",onSelectChange:O,disabled:A,className:"w-full"})]}),(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsx)("label",{className:"text-base font-semibold text-gray-900 mt-6",children:t("Email Subject")}),(0,y.jsx)("div",{children:(0,y.jsx)(N.A,{value:H.subject,onChange:G,placeholder:"Enter Email Subject",disabled:A,width:"100%",className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-base bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})})]}),m&&(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("button",{onClick:()=>j(!f),className:"flex items-center justify-between w-full p-4 bg-gray-50 rounded-xl border border-gray-200 hover:bg-gray-100 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(S.A,{className:"w-5 h-5 text-purple-600"}),(0,y.jsx)("span",{className:"text-base font-semibold text-gray-900",children:t("Template Parameters")})]}),f?(0,y.jsx)(M.A,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(L.A,{className:"w-5 h-5 text-gray-500"})]}),f&&B()]}),(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsx)("label",{className:"text-base font-semibold text-gray-900",children:t("Edit Mode")}),(0,y.jsxs)("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[(0,y.jsxs)("button",{onClick:()=>K("Rich Text"),className:`\n                    flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200\n                    ${"Rich Text"===H.editMode?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"}\n                  `,disabled:A,children:[(0,y.jsx)(E.A,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:t("Rich Text")})]}),(0,y.jsxs)("button",{onClick:()=>K("HTML"),className:`\n                    flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200\n                    ${"HTML"===H.editMode?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"}\n                  `,disabled:A,children:[(0,y.jsx)(k.A,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:t("HTML")})]})]})]}),(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsx)("label",{className:"text-base font-semibold text-gray-900",children:t("Email Content")}),(0,y.jsx)("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white email-editor-container",children:"Rich Text"===H.editMode?(0,y.jsx)(v,{ref:w,defaultValue:_,onChange:V,mobileToolbar:[["bold","italic","underline"],[{list:"bullet"}],["link"]],disabled:A},`${m?.id}-${_}`):(0,y.jsx)(C,{value:H.text,onChange:V})})]}),m&&(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(R.A,{className:"w-5 h-5 text-purple-600"}),(0,y.jsx)("label",{className:"text-base font-semibold text-gray-900",children:t("Email Preview")})]}),(0,y.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 email-template-preview",children:(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm email-template-preview-content",children:[(0,y.jsx)("div",{className:"border-b border-gray-200 pb-3 mb-4",children:(0,y.jsxs)("h4",{className:"text-sm font-semibold text-gray-900",children:[t("Subject:"),H.subject]})}),(0,y.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 email-preview-content",dangerouslySetInnerHTML:{__html:q(H.text)||""}})]})})]})]}),(0,y.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-30",children:(0,y.jsx)("div",{className:"max-w-md mx-auto",children:(0,y.jsxs)("div",{className:"flex justify-end space-x-4",style:{marginRight:"24px"},children:[(0,y.jsx)(i.A,{text:"Cancel",type:"secondary",onAction:X,disabled:u,className:"min-w-[120px] h-[40px] px-6 py-2 text-base font-semibold border border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}),(0,y.jsx)(i.A,{text:"Save Template",type:"primary",onAction:D,disabled:A||u,className:"min-w-[120px] h-[40px] px-6 py-2 text-base font-semibold bg-purple-600 text-white hover:bg-purple-700"})]})})})]}):(0,y.jsxs)("div",{className:"w-full bg-white min-h-screen",style:{fontFamily:"'Inter', sans-serif"},children:[(0,y.jsxs)(r.A,{children:[(0,y.jsxs)(c.A,{children:[(0,y.jsx)("h1",{className:"text-3xl text-gray-900 w-full mt-6",children:t("Email Templates")}),(0,y.jsx)("p",{className:"text-gray-600 mt-1 w-full",children:t("Easily View, Create, and Modify Email Templates")})]}),(0,y.jsxs)(d.A,{gap:2,align:"right",children:[(0,y.jsx)(i.A,{text:"Cancel",icon:null,type:"secondary",onAction:X}),(0,y.jsx)(i.A,{text:"Save",icon:null,type:"primary",disabled:A,onAction:D})]})]}),(0,y.jsx)(n.A,{children:(0,y.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,y.jsxs)("div",{className:"space-y-8 w-full",children:[(0,y.jsxs)("div",{className:"space-y-5 w-full",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,y.jsx)(E.A,{className:"w-5 h-5 text-purple-600"}),(0,y.jsx)("label",{className:"text-lg font-semibold text-gray-900 w-full",children:t("Template Name")})]}),(0,y.jsx)("div",{className:"w-full",children:(0,y.jsx)(o.A,{options:s.map((e=>e.description)),selected:m?.description||"",onSelectChange:O,disabled:A,className:"w-full"})})]}),(0,y.jsxs)("div",{className:"space-y-5 w-full",children:[(0,y.jsx)("label",{className:"text-lg font-semibold text-gray-900 w-full",children:t("Email Subject")}),(0,y.jsx)("div",{className:"w-full",children:(0,y.jsx)(N.A,{value:H.subject,onChange:G,placeholder:"Enter Email Subject",disabled:A,width:"100%",align:"left",className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-base bg-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})})]}),m&&(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("button",{onClick:()=>j(!f),className:"flex items-center justify-between w-full max-w-4xl p-4 bg-gray-50 rounded-xl border border-gray-200 hover:bg-gray-100 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(S.A,{className:"w-5 h-5 text-purple-600"}),(0,y.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:t("Template Parameters")})]}),f?(0,y.jsx)(M.A,{className:"w-5 h-5 text-gray-500"}):(0,y.jsx)(L.A,{className:"w-5 h-5 text-gray-500"})]}),f&&(0,y.jsx)("div",{className:"max-w-4xl",children:B()})]}),(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsx)("label",{className:"text-lg font-semibold text-gray-900",children:t("Edit Mode")}),(0,y.jsxs)("div",{className:"flex bg-gray-100 rounded-xl p-1 max-w-md",children:[(0,y.jsxs)("button",{onClick:()=>K("Rich Text"),className:`\n                        flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200\n                        ${"Rich Text"===H.editMode?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"}\n                      `,disabled:A,children:[(0,y.jsx)(E.A,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:t("Rich Text")})]}),(0,y.jsxs)("button",{onClick:()=>K("HTML"),className:`\n                        flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200\n                        ${"HTML"===H.editMode?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"}\n                      `,disabled:A,children:[(0,y.jsx)(k.A,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:t("HTML")})]})]})]}),(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsx)("label",{className:"text-lg font-semibold text-gray-900",children:t("Email Content")}),(0,y.jsx)("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white max-w-4xl email-editor-container",children:"Rich Text"===H.editMode?(0,y.jsx)(v,{ref:w,defaultValue:_,onChange:V,disabled:A},`${m?.id}-${_}`):(0,y.jsx)(C,{value:H.text,onChange:V})})]}),m&&(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(R.A,{className:"w-5 h-5 text-purple-600"}),(0,y.jsx)("label",{className:"text-lg font-semibold text-gray-900",children:t("Preview")})]}),(0,y.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 max-w-4xl email-template-preview",children:(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm email-template-preview-content",children:[(0,y.jsx)("div",{className:"border-b border-gray-200 pb-3 mb-4",children:(0,y.jsxs)("h4",{className:"text-sm font-semibold text-gray-900",children:[t("Subject:"),H.subject]})}),(0,y.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 email-preview-content",dangerouslySetInnerHTML:{__html:q(H.text)||""}})]})})]}),(0,y.jsx)("div",{className:"pt-8",children:(0,y.jsxs)("div",{className:"flex justify-end space-x-4",style:{marginRight:"24px"},children:[(0,y.jsx)(i.A,{text:"Cancel",type:"secondary",onAction:X,disabled:u,className:"min-w-[120px] h-[40px] px-6 py-2 text-base font-semibold border border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}),(0,y.jsx)(i.A,{text:"Save Template",type:"primary",onAction:D,disabled:A||u,className:"min-w-[120px] h-[40px] px-6 py-2 text-base font-semibold bg-purple-600 text-white hover:bg-purple-700"})]})})]})})})]})})}},3980:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(1409),l=s(320),r=s(790);const n=e=>(0,r.jsxs)("div",{className:"w-full relative",children:[(0,r.jsx)("div",{className:"absolute top-[50vh] left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.loading&&(0,r.jsx)(l.A,{loading:!0})}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 h-full w-full pl-4 md:pl-6 lg:pl-8 pr-4 max-w-full min-w-0 overflow-visible "+(e.loading?"loading":""),children:[(0,r.jsx)(a.N9,{position:"bottom-right"}),e.children]})]})}}]);